{"version":3,"file":"slidemenu.js","sourceRoot":"","sources":["slidemenu.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterViewInit,OnDestroy,Input,Output,Renderer,EventEmitter,Inject,forwardRef} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {DomHandler} from '../dom/domhandler';\r\nimport {MenuItem} from '../common/api';\r\nimport {Location} from '@angular/common';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'p-slideMenuSub',\r\n    template: `\r\n        <ul [ngClass]=\"{'ui-helper-reset ui-menu-rootlist':root, 'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child':!root}\" class=\"ui-menu-list\"\r\n            [style.width.px]=\"menuWidth\" [style.left.px]=\"root ? slideMenu.left : slideMenu.menuWidth\" \r\n            [style.transitionProperty]=\"root ? 'left' : 'none'\" [style.transitionDuration]=\"effectDuration + 'ms'\" [style.transitionTimingFunction]=\"easing\">\r\n            <template ngFor let-child [ngForOf]=\"(root ? item : item.items)\">\r\n                <li #listitem [ngClass]=\"{'ui-menuitem ui-widget ui-corner-all':true,'ui-menu-parent':child.items,'ui-menuitem-active':listitem==activeItem}\">\r\n                    <a #link [href]=\"child.url||'#'\" class=\"ui-menuitem-link ui-corner-all\" \r\n                        [ngClass]=\"{'ui-state-hover':link==hoveredLink&&!child.disabled,'ui-menuitem-link-parent':child.items,'ui-state-disabled':child.disabled}\" \r\n                        (click)=\"itemClick($event, child, listitem)\" (mouseenter)=\"hoveredLink=link\" (mouseleave)=\"hoveredLink=null\">\r\n                        <span class=\"ui-submenu-icon fa fa-fw fa-caret-right\" *ngIf=\"child.items\"></span>\r\n                        <span class=\"ui-menuitem-icon fa fa-fw\" *ngIf=\"child.icon\" [ngClass]=\"child.icon\"></span>\r\n                        <span class=\"ui-menuitem-text\">{{child.label}}</span>\r\n                    </a>\r\n                    <p-slideMenuSub class=\"ui-submenu\" [item]=\"child\" [menuWidth]=\"menuWidth\" *ngIf=\"child.items\"></p-slideMenuSub>\r\n                </li>\r\n            </template>\r\n        </ul>\r\n    `\r\n})\r\nexport class SlideMenuSub implements OnDestroy {\r\n\r\n    @Input() item: MenuItem;\r\n    \r\n    @Input() root: boolean;\r\n    \r\n    @Input() backLabel: string = 'Back';\r\n    \r\n    @Input() menuWidth: string;\r\n    \r\n    @Input() effectDuration: any;\r\n        \r\n    @Input() easing: string = 'ease-out';\r\n        \r\n    constructor(@Inject(forwardRef(() => SlideMenu)) public slideMenu: SlideMenu, public router: Router) {}\r\n        \r\n    activeItem: any;\r\n            \r\n    hoveredLink: any;\r\n                \r\n    itemClick(event, item: MenuItem, listitem: any)Â {\r\n        if(item.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n        \r\n        if(!item.url||item.routerLink) {\r\n            event.preventDefault();\r\n        }\r\n                \r\n        if(item.command) {\r\n            if(!item.eventEmitter && item.command) {\r\n                item.eventEmitter = new EventEmitter();\r\n                item.eventEmitter.subscribe(item.command);\r\n            }\r\n            \r\n            item.eventEmitter.emit({\r\n                originalEvent: event,\r\n                item: item\r\n            });\r\n        }\r\n        \r\n        if(item.items && !this.slideMenu.animating) {\r\n            this.slideMenu.left -= this.slideMenu.menuWidth;\r\n            this.activeItem = listitem;\r\n            this.slideMenu.animating = true;\r\n            setTimeout(() => this.slideMenu.animating = false, this.effectDuration);\r\n        }\r\n        \r\n        if(item.routerLink) {\r\n            this.router.navigate(item.routerLink);\r\n        }\r\n    }\r\n        \r\n    ngOnDestroy() {\r\n        this.activeItem = null;\r\n        this.hoveredLink = null;\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'p-slideMenu',\r\n    template: `\r\n        <div [ngClass]=\"{'ui-menu ui-slidemenu ui-widget ui-widget-content ui-corner-all':true,'ui-menu-dynamic ui-shadow':popup}\" \r\n            [class]=\"styleClass\" [ngStyle]=\"style\" (click)=\"onClick($event)\">\r\n            <div class=\"ui-slidemenu-wrapper\" [style.height.px]=\"viewportHeight\">\r\n                <div class=\"ui-slidemenu-content\" [style.height.px]=\"viewportHeight - 30\">\r\n                    <p-slideMenuSub [item]=\"model\" root=\"root\" [menuWidth]=\"menuWidth\" [effectDuration]=\"effectDuration\" [easing]=\"easing\"></p-slideMenuSub>\r\n                </div>\r\n                <div class=\"ui-slidemenu-backward ui-widget-header ui-corner-all\" [style.display]=\"left ? 'block' : 'none'\" (click)=\"goBack()\">\r\n                    <span class=\"fa fa-fw fa-caret-left\"></span>{{backLabel}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    providers: [DomHandler]\r\n})\r\nexport class SlideMenu implements AfterViewInit,OnDestroy {\r\n\r\n    @Input() model: MenuItem[];\r\n\r\n    @Input() popup: boolean;\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() styleClass: string;\r\n    \r\n    @Input() menuWidth: number = 180;\r\n    \r\n    @Input() viewportHeight: number = 175;\r\n    \r\n    @Input() effectDuration: any = 500;\r\n        \r\n    @Input() easing: string = 'ease-out';\r\n    \r\n    @Input() backLabel: string = 'Back';\r\n    \r\n    public container: any;\r\n    \r\n    public documentClickListener: any;\r\n    \r\n    public preventDocumentDefault: any;\r\n        \r\n    public left: number = 0;\r\n    \r\n    public animating: boolean = false;\r\n        \r\n    constructor(public el: ElementRef, public domHandler: DomHandler, public renderer: Renderer) {}\r\n\r\n    ngAfterViewInit() {\r\n        this.container = this.el.nativeElement.children[0];\r\n        \r\n        if(this.popup) {\r\n            this.documentClickListener = this.renderer.listenGlobal('body', 'click', () => {\r\n                if(!this.preventDocumentDefault) {\r\n                    this.hide();\r\n                }\r\n                this.preventDocumentDefault = false;\r\n            });\r\n        }\r\n    }\r\n    \r\n    toggle(event) {\r\n        if(this.container.offsetParent)\r\n            this.hide();\r\n        else\r\n            this.show(event);\r\n            \r\n        this.preventDocumentDefault = true;\r\n    }\r\n    \r\n    show(event) {\r\n        this.container.style.display = 'block';\r\n        this.domHandler.absolutePosition(this.container, event.target);\r\n        this.domHandler.fadeIn(this.container, 250);\r\n    }\r\n    \r\n    hide() {\r\n        this.container.style.display = 'none';\r\n    }\r\n\r\n    unsubscribe(item: any) {\r\n        if(item.eventEmitter) {\r\n            item.eventEmitter.unsubscribe();\r\n        }\r\n        \r\n        if(item.items) {\r\n            for(let childItem of item.items) {\r\n                this.unsubscribe(childItem);\r\n            }\r\n        }\r\n    }\r\n    \r\n    onClick(event) {\r\n        this.preventDocumentDefault = true;\r\n    }\r\n    \r\n    goBack() {\r\n        this.left += this.menuWidth;\r\n    }\r\n        \r\n    ngOnDestroy() {\r\n        if(this.popup) {\r\n            this.documentClickListener();\r\n        }\r\n        \r\n        if(this.model) {\r\n            for(let item of this.model) {\r\n                this.unsubscribe(item);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [SlideMenu],\r\n    declarations: [SlideMenu,SlideMenuSub]\r\n})\r\nexport class SlideMenuModule { }"]}